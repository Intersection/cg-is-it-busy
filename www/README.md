Izitbz is an EMR-based system that collects MAC address data via Pollster, organizes the data into lists of MAC addresses found at each access point during 15-minute intervals, and then counts how many unique addresses occured per 15-minute interval per base station.

# Running Izitbz

To create a new jobflow, simply run:

```
    $ source ./deploy.sh
```
To update an existing jobflow with a new set of Izitbz steps, run:

```
    $ ./deploy.sh up
```

Once you create a new jobflow, an environment variable called `JOBFLOWID` will be created, and subsequent executions of `./deploy.sh up` will depend on this variable.

# Dependencies

* The [elastic-mapreduce](http://aws.amazon.com/developertools/Elastic-MapReduce/2264) command line tool
* The [s3cmd](http://s3tools.org/download/) command line tool

# Output

The izitbz reducer will output information in the following JSON format:

``` javascript
{"<base station #1>": {
    "<timestamp interval>": <# of unique addresses>,
    "<timestamp interval 2>": <# of unique addresses>
    },
    "<base station #2>": {
    "<timestamp interval>": <# of unique addresses>
    }
}
```

A (nicely-formatted) example is available in the [example-output](https://github.com/controlgroup/izitbz/blob/master/example-output/example.json) directory.

# Graph of sample data, generated by AmCharts
![Example Graph, generated by Amcharts](http://speedcap.net/img/d8d68407c8f3add7fd2536844be481e3/42aa502c.png)